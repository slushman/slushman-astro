---
import Bio from 'component:Bio';
import Posts from 'component:Posts';
import { checkIsHome, getSortedPosts } from 'utils';

const { limit = null } = Astro.props;
const { url } = Astro.request;

const allPosts = await Astro.glob('../pages/post/**/*.md');
const posts = getSortedPosts(allPosts, limit);

const isHome = checkIsHome(url);
---

{isHome && <Bio isHeader={true} />}
<Posts posts={posts} />
